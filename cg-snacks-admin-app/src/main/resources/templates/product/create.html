<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Create product</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

  <script>
    function my_submit(){
      //bat loi
      error = "";
      avata = document.getElementById("avata").value;
      description = document.getElementById("description").value;
      price = document.getElementById("price").value;
      quantity = document.getElementById("quantity").value;

      if(avata == null){
        error = ("Bạn phải nhập avata")
      }
      if (price <= 0 ){
        error_price = document.getElementById("error_price").value;
        error_price.innerHTML="<span class='rq'>Bạn cần nhập giá sản phẩm</span>"
      }

      if (quantity <= 0 ){
        error_quantity = document.getElementById("error_quantity").value;
        error_quantity.innerHTML="<span class='rq'>Bạn cần nhập số lượng sản phẩm</span>"
      }
      console.log("price")
    }
  </script>
</head>
<body>
<h1>Create product</h1>
<p>
  <a href="/products">Product list</a>
</p>
<th:block th:if="${message}">
  <p th:text="${message}"></p>
</th:block>
<div class="container mt-4">
<form class="row g-3 needs-validation" action="#" th:action="@{/save}"  method="POST" th:object="${productDto}"
      novalidate="novalidate" enctype="multipart/form-data">

  <div class="col-12">
    <div class="row">

      <td>First name:</td>
      <td><input required type="text" th:field="*{name}"/>
        <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name errors</span>
      </td>
    </div>
  </div>


  <div class="col-12">
    <div class="row">
      <label for="avata" class="form-label">Avata<span style class="rq">*</span></label>
      <td><input type="text" th:field="*{image}" id="avata" required/></td>
    </div>
  </div>
  <div class="col-12">
    <div class="row">
      <label  for="description" class="form-label">Mô tả sản phẩm<span style class="rq">*</span></label>
      <td><input type="text" th:field="*{description}" id="description" required/></td>
    </div>
  </div>

<!--    <tr>-->
<!--      <td>Avartar:</td>-->
<!--      <td><input type="file" th:field="*{image}"/></td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <td>Description:</td>-->
<!--      <td><input type="text" th:field="*{description}"/></td>-->

<!--    </tr>-->
  <div class="col-12">
    <div class="row">
      <label for="price" class="form-label">Price<span style class="rq">*</span></label>
      <td><input type="text" th:field="*{price}" id="price" required/></td>
    </div>
  </div>
  <div class="col-12">
    <div class="row">
      <label  for="quantity" class="form-label">Quantity<span style class="rq">*</span></label>
      <td><input type="text" th:field="*{quantity}" id="quantity" required/></td>
    </div>
  </div>


  <div class="row">
  <div class="col-12">
    <label  class="form-label">Category<span style class="rq">*</span></label>
    <td>
      <select th:field="*{category}">
        <option th:each="c : ${categories}" th:value="${c.id}" th:text="${c.name}"></option>
      </select>
    </td>
  </div>
  </div>

  <!--    <tr>-->
<!--      <td>Price:</td>-->
<!--      <td><input type="text" th:field="*{price}"/></td>-->
<!--    </tr>-->
<!--    <tr>-->
<!--      <td>Quantity:</td>-->
<!--      <td><input type="text" th:field="*{quantity}"/></td>-->
<!--    </tr>-->

  <div class="row">
    <label for="note" class="form-label">Note</label>
    <textarea type="text" th:field="*{notes}" rows="10" cols="20" id="note" class="form-control" name="moTa" />
  </div>
<!--    <tr>-->
<!--      <td>Notes:</td>-->
<!--      <td><input type="text" th:field="*{notes}"/></td>-->
<!--    </tr>-->



<!--    <tr>-->
<!--      <td>Category:</td>-->
<!--      <td>-->
<!--        <select th:field="*{category}">-->
<!--          <option th:each="c : ${categories}" th:value="${c.id}" th:text="${c.name}"></option>-->
<!--        </select>-->
<!--      </td>-->
<!--    </tr>-->

  <div class="col-12">
    <button type="submit" class="btn btn-primary" value="Create product">Create Product</button>
  </div>
<!--    <tr>-->
<!--      <td></td>-->
<!--      <td><input type="submit" value="Create product"></td>-->
<!--    </tr>-->
</form>
</div>>
</body>
</html>
